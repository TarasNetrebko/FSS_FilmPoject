{"mappings":"iiBAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,kKCAzD,IAAAC,EAAAJ,EAAA,S,iBAaA,SAASK,EAAcC,GACrB,IAK2BC,EAKAC,EATS,UADnBF,EAAMG,cACVC,YAAYC,QACvBC,SAASC,cAAc,UAAUC,UAAUC,IAAI,UAC/CH,SAASC,cAAc,YAAYC,UAAUE,OAAO,UACpDJ,SAASC,cAAc,YAAYI,UAAY,GAC/CC,EAAkE,QAAzCX,EAAAL,KAAKC,MAAMgB,aAAaC,QAAQ,iBAAS,IAAzCb,OAAD,EAAAA,EAA6Cc,KAAI,SAAAC,G,OAAMpB,KAAKC,MAAMmB,SAE1FV,SAASC,cAAc,UAAUC,UAAUE,OAAO,UAClDJ,SAASC,cAAc,YAAYC,UAAUC,IAAI,UACjDH,SAASC,cAAc,YAAYI,UAAY,GAC/CC,EAAoE,QAA3CV,EAAAN,KAAKC,MAAMgB,aAAaC,QAAQ,mBAAW,IAA3CZ,OAAD,EAAAA,EAA+Ca,KAAI,SAAAC,G,OAAMpB,KAAKC,MAAMmB,QAIhG,SAASJ,EAAwBK,GAC/B,GAAKA,EAGE,CACL,IAAMC,EAASD,aAAA,EAAAA,EAAOF,KAAI,SAAAI,G,IAAGC,EAAED,EAAFC,GAAIC,EAAWF,EAAXE,YAAaC,EAAMH,EAANG,OAAQC,EAAcJ,EAAdI,eAAgBC,EAAYL,EAAZK,aAGpE,OAF2BC,WAAP,OAAhBJ,EAAkCK,EAAAC,GACtB,kCAAoCN,EAC7C,kCAIYO,OAJsBR,EAAG,8HAKzBQ,OADAH,WAAW,8BAGKG,OAFhBL,EAAe,+EAItBK,OAFuBL,EAAe,oEAEwBK,OAA9DN,EAAOP,KAAI,SAAAC,G,MAAM,IAAMA,EAAGa,QAAM,gCAAyDD,OAA3BJ,EAAaM,MAAM,KAAK,GAAG,8DAE/EC,KAAK,IAC7BzB,SAASC,cAAc,YAAYyB,mBAAmB,YAAad,GACnEZ,SAAS2B,iBAAiB,SAASC,SAAQ,SAAAC,GACzCA,EAAGC,iBAAiB,SAAS,SAAApC,GAC3B,IAAMqC,EAAUC,OAAOtC,EAAMG,cAAcoC,QAAQnB,IAC7CoB,EAAa,GACnBA,EAAWC,KAAOxB,EAAMyB,MAAK,SAAA1B,G,OAAMA,EAAGI,KAAOiB,MAE7C,EAAAvC,EAAA6C,SAAYH,cAzBhBlC,SAASC,cAAc,YAAYI,UAAa,yIC9BpDgB,EAAiBjC,EAAA,SAAAkD,aAA6C,SAAWlD,EAAA,SAAAmD,QAA6C,SDItHvC,SAAS8B,iBAAiB,oBAAoB,SAAApC,GAC5CM,SAAS2B,iBAAiB,wBAAwBC,SAAQ,SAAAlB,G,OAAMA,EAAGoB,iBAAiB,QAASrC,MAK7FO,SAASC,cAAc,UAAUuC,W","sources":["node_modules/@parcel/runtime-js/lib/runtime-d9e4485f6a58786e.js","src/js/my-library.js","node_modules/@parcel/runtime-js/lib/runtime-1727796cc8212744.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"23zHU\\\":\\\"my-library.eda31515.js\\\",\\\"dhpLJ\\\":\\\"blank-wanted-poster.db117cd4.jpg\\\",\\\"5UbS1\\\":\\\"index.f44ebc24.css\\\"}\"));","import createModal from './authApp';\nimport * as basicLightbox from 'basiclightbox';\nimport no_img from '../images/blank-wanted-poster.jpg';\n\ndocument.addEventListener(\"DOMContentLoaded\", event => {\n  document.querySelectorAll('.header-library__btn').forEach(el => el.addEventListener(\"click\", renderLibrary));\n  imitateClick();  \n})\n\nfunction imitateClick() {\n  document.querySelector('.queue').click();\n}\n\nfunction renderLibrary(event) {\n  const buttonEl = event.currentTarget;\n  if (buttonEl.textContent.trim() === \"Queue\") {\n    document.querySelector('.queue').classList.add(\"active\");\n    document.querySelector('.watched').classList.remove(\"active\");\n    document.querySelector('.gallery').innerHTML = '';\n    renderMoviesCardsMarkup((JSON.parse(localStorage.getItem('queue')))?.map(el => JSON.parse(el)));\n  } else {\n    document.querySelector('.queue').classList.remove(\"active\");\n    document.querySelector('.watched').classList.add(\"active\");\n    document.querySelector('.gallery').innerHTML = '';\n    renderMoviesCardsMarkup((JSON.parse(localStorage.getItem('watched')))?.map(el => JSON.parse(el)));\n  }\n}\n\nfunction renderMoviesCardsMarkup(array) {\n  if (!array) {\n    document.querySelector('.gallery').innerHTML = `<h2 class=\"message\">Sorry! Here is no movies yet!\n  Log in and choose them <a class=\"message__link\" href=\"index.html\">here</a> !</h2>`;\n  } else {\n    const markup = array?.map(({ id, poster_path, genres, original_title, release_date }) => {\n      if (poster_path === null) {poster_url=no_img}\n      else{poster_url=\"https://image.tmdb.org/t/p/w500\" + poster_path};\n      return `<article class=\"card\" data-id=\"${id}\">\n                <img\n                  class=\"card__image\"\n                  loading=\"lazy\"\n                  src=\"${poster_url}\"\n                  alt=\"${original_title} movie poster\"\n                />\n                <p class=\"card__title\">${original_title}</p>\n                <p class=\"card__genres\">\n                ${genres.map(el => \" \" + el.name)} | <span class=\"card__year\">${release_date.split('-')[0]}</span>\n                </p>\n              </article>`}).join('');\n    document.querySelector('.gallery').insertAdjacentHTML('beforeend', markup);\n    document.querySelectorAll('.card').forEach(el => {\n      el.addEventListener('click', event => {\n        const movieId = Number(event.currentTarget.dataset.id);\n        const filmObject = {};\n        filmObject.data = array.find(el => el.id === movieId);\n        // createModal(array.find(el => el.id === movieId));\n        createModal(filmObject);\n      });\n    });\n  }\n}\n\n","module.exports = require('./helpers/bundle-url').getBundleURL('23zHU') + require('./helpers/bundle-manifest').resolve(\"dhpLJ\");"],"names":["parcelRequire","register","JSON","parse","$hV5zi","$bb2af86579234925$var$renderLibrary","event","ref","ref1","currentTarget","textContent","trim","document","querySelector","classList","add","remove","innerHTML","$bb2af86579234925$var$renderMoviesCardsMarkup","localStorage","getItem","map","el","array","markup","param","id","poster_path","genres","original_title","release_date","poster_url","$parcel$interopDefault","$de51ccfa418be3e1$exports","concat","name","split","join","insertAdjacentHTML","querySelectorAll","forEach","el1","addEventListener","movieId","Number","dataset","filmObject","data","find","default","getBundleURL","resolve","click"],"version":3,"file":"my-library.eda31515.js.map"}