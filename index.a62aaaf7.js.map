{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,uCAGMC,EAAU,mCAEVC,EAAQ,CACZC,KAAMC,SAASC,cAAc,gBAC7BC,QAASF,SAASC,cAAc,YAChCE,aAAcH,SAASC,cAAc,a,SAKxBG,I,OAAAA,EAAfC,EAAAV,EAAA,CAAAU,EAAAC,GAAAC,MAAA,SAAAC,EAA4BC,G,IAGpBC,EAOEC,E,kEATRF,EAAMG,iBAIQ,MAFRF,EAAQZ,EAAMC,KAAKc,YAAYC,OAGnChB,EAAMK,aAAaY,UAAUC,OAAO,oBAEpClB,EAAMK,aAAaY,UAAUE,IAAI,mBAE3BN,EAAc,qDAAsEO,OAAjBrB,EAAQ,WAAeqB,OAANR,EAAM,YAChG,EAAAS,EAAAC,SAAiBT,EAAaU,IAGhCvB,EAAMC,KAAKuB,Q,4CAdcC,MAAAC,KAAAC,WAiB3B,SAASJ,EAAWK,GACmB,IAAjCA,EAASC,KAAKC,QAAQC,OACxB/B,EAAMK,aAAaY,UAAUC,OAAO,oBAEpClB,EAAMK,aAAaY,UAAUE,IAAI,mBAEjCnB,EAAMI,QAAQ4B,UAAY,IAC1B,EAAAC,EAAAX,SAAwBM,IA1B5B5B,EAAMC,KAAKiC,iBAAiB,U,SAEAvB,G,OAAbL,EAAYmB,MAAAC,KAAAC,c","sources":["src/js/searchMovies.js"],"sourcesContent":["import fetchFromBackend from './fetchAPI';\nimport renderMoviesCardsMarkup from './fetchMovies';\n\nconst API_KEY = '641afe219016a353adafbc0b4f44c0fe';\n\nconst $refs = {\n  form: document.querySelector('.header-form'),\n  gallery: document.querySelector('.gallery'),\n  errorMessage: document.querySelector('#message'),\n};\n\n$refs.form.addEventListener('submit', onShowMovies);\n\nasync function onShowMovies(event) {\n  event.preventDefault();\n\n  const query = $refs.form.searchMovie.value;\n\n  if (query === '') {\n    $refs.errorMessage.classList.remove('visually-hidden');\n  } else {\n    $refs.errorMessage.classList.add('visually-hidden');\n\n    const fetchMovies = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${query}&page=1`;\n    fetchFromBackend(fetchMovies, loadMovies);\n  }\n\n  $refs.form.reset();\n}\n\nfunction loadMovies(response) {\n  if (response.data.results.length === 0) {\n    $refs.errorMessage.classList.remove('visually-hidden');\n  } else {\n    $refs.errorMessage.classList.add('visually-hidden');\n\n    $refs.gallery.innerText = '';\n    renderMoviesCardsMarkup(response);\n  }\n}\n"],"names":["$bpxeT","parcelRequire","$e1a441075edf8b92$var$API_KEY","$e1a441075edf8b92$var$$refs","form","document","querySelector","gallery","errorMessage","$e1a441075edf8b92$var$_onShowMovies","$parcel$interopDefault","$2TvXO","mark","_callee","event","query","fetchMovies","preventDefault","searchMovie","value","classList","remove","add","concat","$lbRHt","default","$e1a441075edf8b92$var$loadMovies","reset","apply","this","arguments","response","data","results","length","innerText","$kitKc","addEventListener"],"version":3,"file":"index.a62aaaf7.js.map"}