{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,aAGA,MAEMC,EAAQ,CACZC,KAAMC,SAASC,cAAc,gBAC7BC,QAASF,SAASC,cAAc,YAChCE,aAAcH,SAASC,cAAc,aAsBvC,SAASG,EAAWC,GACmB,IAAjCA,EAASC,KAAKC,QAAQC,OACxBV,EAAMK,aAAaM,UAAUC,OAAO,oBAEpCZ,EAAMK,aAAaM,UAAUE,IAAI,mBAEjCb,EAAMI,QAAQU,UAAY,IAC1B,EAAAC,EAAAC,SAAwBT,IA1B5BP,EAAMC,KAAKgB,iBAAiB,UAE5BC,eAA4BC,GAC1BA,EAAMC,iBAEN,MAAMC,EAAQrB,EAAMC,KAAKqB,YAAYC,MAErC,GAAc,KAAVF,EACFrB,EAAMK,aAAaM,UAAUC,OAAO,uBAC/B,CACLZ,EAAMK,aAAaM,UAAUE,IAAI,mBAEjC,MAAMW,EAAc,4FAAsEH,YAC1F,EAAAvB,EAAAkB,SAAiBQ,EAAalB,GAGhCN,EAAMC,KAAKwB","sources":["src/js/searchMovies.js"],"sourcesContent":["import fetchFromBackend from './fetchAPI';\nimport renderMoviesCardsMarkup from './fetchMovies';\n\nconst API_KEY = '641afe219016a353adafbc0b4f44c0fe';\n\nconst $refs = {\n  form: document.querySelector('.header-form'),\n  gallery: document.querySelector('.gallery'),\n  errorMessage: document.querySelector('#message'),\n};\n\n$refs.form.addEventListener('submit', onShowMovies);\n\nasync function onShowMovies(event) {\n  event.preventDefault();\n\n  const query = $refs.form.searchMovie.value;\n\n  if (query === '') {\n    $refs.errorMessage.classList.remove('visually-hidden');\n  } else {\n    $refs.errorMessage.classList.add('visually-hidden');\n\n    const fetchMovies = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${query}&page=1`;\n    fetchFromBackend(fetchMovies, loadMovies);\n  }\n\n  $refs.form.reset();\n}\n\nfunction loadMovies(response) {\n  if (response.data.results.length === 0) {\n    $refs.errorMessage.classList.remove('visually-hidden');\n  } else {\n    $refs.errorMessage.classList.add('visually-hidden');\n\n    $refs.gallery.innerText = '';\n    renderMoviesCardsMarkup(response);\n  }\n}\n"],"names":["$cqGDw","parcelRequire","$4a9ea052b238628e$var$$refs","form","document","querySelector","gallery","errorMessage","$4a9ea052b238628e$var$loadMovies","response","data","results","length","classList","remove","add","innerText","$1TPJ0","default","addEventListener","async","event","preventDefault","query","searchMovie","value","fetchMovies","reset"],"version":3,"file":"index.f6ebaef3.js.map"}