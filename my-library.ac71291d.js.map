{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAWA,SAASC,EAAcC,G,IAIMC,EAGAC,EALS,UADnBF,EAAMG,cACVC,YAAYC,QACvBC,SAASC,cAAc,YAAYC,UAAY,GAC/CC,EAAkE,QAAzCR,EAAAS,KAAKC,MAAMC,aAAaC,QAAQ,iBAAS,IAAzCZ,OAAD,EAAAA,EAA6Ca,KAAIC,GAAML,KAAKC,MAAMI,QAE1FT,SAASC,cAAc,YAAYC,UAAY,GAC/CC,EAAoE,QAA3CP,EAAAQ,KAAKC,MAAMC,aAAaC,QAAQ,mBAAW,IAA3CX,OAAD,EAAAA,EAA+CY,KAAIC,GAAML,KAAKC,MAAMI,OAIhG,SAASN,EAAwBO,GAC/B,GAAKA,EAGE,CACL,MAAMC,EAASD,aAAA,EAAAA,EAAOF,KAAI,EAACI,GAAEA,EAAEC,YAAEA,EAAWC,OAAEA,EAAMC,eAAEA,EAAcC,aAAEA,KAC7D,kCAAkCJ,6JAISC,8BAC/BE,+EAEgBA,oEAEvBD,EAAON,KAAIC,GAAM,IAAMA,EAAGQ,qCAAoCD,EAAaE,MAAM,KAAK,8DAE5EC,KAAK,IAC7BnB,SAASC,cAAc,YAAYmB,mBAAmB,YAAaT,GACnEX,SAASqB,iBAAiB,SAASC,SAAQC,IACzCA,EAAGC,iBAAiB,SAAS9B,IAC3B,MAAM+B,EAAUC,OAAOhC,EAAMG,cAAc8B,QAAQf,IAC7CgB,EAAa,GACnBA,EAAWC,KAAOnB,EAAMoB,MAAKrB,GAAMA,EAAGG,KAAOa,KAE7C,EAAAlC,EAAAwC,SAAYH,cAvBhB5B,SAASC,cAAc,YAAYC,UAAY,yI,WAlBnDF,SAASwB,iBAAiB,oBAAoB9B,IAC5CM,SAASqB,iBAAiB,wBAAwBC,SAAQb,GAAMA,EAAGe,iBAAiB,QAAS/B","sources":["src/js/my-library.js"],"sourcesContent":["import createModal from './authApp';\nimport * as basicLightbox from 'basiclightbox';\n\n// const queue = (JSON.parse(localStorage.getItem('queue')))?.map(el => JSON.parse(el));\n// const watched = (JSON.parse(localStorage.getItem('watched')))?.map(el => JSON.parse(el));\n\ndocument.addEventListener(\"DOMContentLoaded\", event => {\n  document.querySelectorAll('.header-library__btn').forEach(el => el.addEventListener(\"click\", renderLibrary));  \n})\n\n\nfunction renderLibrary(event) {\n  const buttonEl = event.currentTarget;\n  if (buttonEl.textContent.trim() === \"Queue\") {\n    document.querySelector('.gallery').innerHTML = '';\n    renderMoviesCardsMarkup((JSON.parse(localStorage.getItem('queue')))?.map(el => JSON.parse(el)));\n  } else {\n    document.querySelector('.gallery').innerHTML = '';\n    renderMoviesCardsMarkup((JSON.parse(localStorage.getItem('watched')))?.map(el => JSON.parse(el)));\n  }\n}\n\nfunction renderMoviesCardsMarkup(array) {\n  if (!array) {\n    document.querySelector('.gallery').innerHTML = `<h2 class=\"message\">Sorry! Here is no movies yet!\n  Log in and choose them <a class=\"message__link\" href=\"index.html\">here</a> !</h2>`;\n  } else {\n    const markup = array?.map(({ id, poster_path, genres, original_title, release_date }) => {\n      return `<article class=\"card\" data-id=\"${id}\">\n                <img\n                  class=\"card__image\"\n                  loading=\"lazy\"\n                  src=\"https://image.tmdb.org/t/p/w500${poster_path}\"\n                  alt=\"${original_title} movie poster\"\n                />\n                <p class=\"card__title\">${original_title}</p>\n                <p class=\"card__genres\">\n                ${genres.map(el => \" \" + el.name)} | <span class=\"card__year\">${release_date.split('-')[0]}</span>\n                </p>\n              </article>`}).join('');\n    document.querySelector('.gallery').insertAdjacentHTML('beforeend', markup);\n    document.querySelectorAll('.card').forEach(el => {\n      el.addEventListener('click', event => {\n        const movieId = Number(event.currentTarget.dataset.id);\n        const filmObject = {};\n        filmObject.data = array.find(el => el.id === movieId);\n        // createModal(array.find(el => el.id === movieId));\n        createModal(filmObject);\n      });\n    });\n  }\n}"],"names":["$exG1f","parcelRequire","$085d2f9f3e302aeb$var$renderLibrary","event","ref","ref1","currentTarget","textContent","trim","document","querySelector","innerHTML","$085d2f9f3e302aeb$var$renderMoviesCardsMarkup","JSON","parse","localStorage","getItem","map","el","array","markup","id","poster_path","genres","original_title","release_date","name","split","join","insertAdjacentHTML","querySelectorAll","forEach","el1","addEventListener","movieId","Number","dataset","filmObject","data","find","default"],"version":3,"file":"my-library.ac71291d.js.map"}